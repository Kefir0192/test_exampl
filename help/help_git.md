## Общий принцып работы в команде с одним репом:


**Автор** - чувак который ведет разработку. Он будет сливать пулреквесты

**Узер** - чувак который хочет добавить\исправить код в репе Автора.

Автор может писать в свои ветки, в том числе и в master без использования пулреквестов. 
(ему это просто не нужно) Он имеет право на запись.



### Работа Узера, который хочет внести вклад



#### 1. Форкнуть Авторский реп себе

Для того, чтобы иметь возможность иметь права на запись. Ясный пень вы будете иметь права на запись только в свой Форк.


#### 2. Склонировать ваш форк себе на ПК

```console
git clone https://github.com/ВашФорк.git
```


#### 3. Пробросить ссылку на удаленный реп Автора (для возможности делать update)

```console
git remote add upstream https://github.com/АвторскийРеп.git
```


   **Итого уже имеем:**
   - **origin**    - это ссылка на ВАШ форк (создается при клонировании автоматически)
   - **upstream**  - ссылка на Авторский реп.


   На данном этапе у вас мой Узер три ветки мастер:
   - Ваш мастер на ПК **master**
   - Ваш мастер для вашего Форка (по умолчанию) **origin/master**
   - Ссылка на мастер автора **upstream/master**


#### 4. Перед началом любой работы нужно обновлять ваш мастер

```console
git pull upstream master
```
Эй гит слей (pull) все изменения из upstream/master и добавь их в мой master. 
После этого ваш локальный мастер и мастер автора одинаковый. Не забываем что у вас 3 мастера.


#### 5. Обновить ваш удаленный мастер

```console
git push
```
(находясь внутри ветки мастер конечно) 


#### 6. Создаем новую ветку

```console
git checkout -b NameBranch 
```
Воспользовавшись командой 
git branch можно узнать, на какой ветке (branch) репозитория вы сейчас находитесь, отмечена звездочкой


#### 7. Делаем коммиты (основная работа)


#### 8. Update master

Когда работа (код) завершен и протестирован.
Переходим в мастер и обновляем его согласно п.4
>Зачем?

Потому что пока Вы тут что-то пилили Авторский мастер уже мог измениться.


#### 9. Rebase

```console
git rebase master
```   
>Зачем?

Чтобы избавить Автора от Конфликтов. Если мастер автора конфликтует с вашим кодом, это ваш Косяг, а не автора. Решаетй проблемы сами. Вплоть до новой ветки и т.п.


#### 10. После того как работа сделана, нужно отослать ветку в github (в Ваш Форк)

```console
git push origin NameBranch
```


#### 11. Заходим на github и жмем зеленую кнопку сделать пуллреквест


#### 12. После удачного сливания, ветка удаляется и на ПК и на СВОЕМ гитхабе:

```console
git branch -d NameBranch            #В локальном репозитории
git push origin --delete NameBranch #В удалённом репозитории
```


#### 13. Можно обновить свои ветки мастер



**PS:** Узер никогда ничего не пишет в свой мастер. Он его только обновляет см п.4

**Если остались вопросы:** [ProGit 2nd Edition (2014)](https://git-scm.com/book/ru/v2/)
		
